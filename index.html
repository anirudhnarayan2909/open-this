<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Case of the 3 Clues ğŸ•µï¸â€â™‚ï¸</title>

<style>
body{
  margin:0;
  min-height:100vh;
  background: linear-gradient(135deg,#1f2933,#111827);
  display:flex;
  justify-content:center;
  align-items:center;
  font-family: Arial, sans-serif;
  color:#fff;
}

.game{
  width:min(420px,94vw);
  background: rgba(255,255,255,.08);
  border-radius:18px;
  padding:20px;
  box-shadow:0 20px 50px rgba(0,0,0,.4);
}

h1{margin:0;font-size:20px;}
h2{margin:12px 0 6px;font-size:16px;}
p{font-size:14px;opacity:.9;line-height:1.4;}

button{
  width:100%;
  margin-top:10px;
  padding:12px;
  border:none;
  border-radius:14px;
  background:#374151;
  color:white;
  font-weight:700;
  cursor:pointer;
}
button:hover{background:#4b5563;}
button.primary{background:#ef4444;}
button.ok{background:#22c55e;color:#052e1a;}

.log{
  margin-top:12px;
  font-size:12px;
  opacity:.8;
}
.log div{margin-bottom:6px;}

.popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  display:flex;
  justify-content:center;
  align-items:center;
}

.popupBox{
  background:rgba(255,255,255,.15);
  backdrop-filter:blur(10px);
  border-radius:18px;
  padding:22px;
  width:min(320px,90vw);
  text-align:center;
}
</style>
</head>

<body>

<div class="game">
  <h1>The Case of the 3 Clues ğŸ•µï¸â€â™‚ï¸</h1>
  <h2 id="sceneTitle"></h2>
  <p id="sceneText"></p>

  <div id="choices"></div>
  <div class="log" id="log"></div>
</div>

<script>
const titleEl = document.getElementById("sceneTitle");
const textEl = document.getElementById("sceneText");
const choicesEl = document.getElementById("choices");
const logEl = document.getElementById("log");

let clues = {
  time:false,
  alibi:false,
  evidence:false
};

function log(msg){
  const d=document.createElement("div");
  d.textContent="â€¢ "+msg;
  logEl.appendChild(d);
}

function setScene(title,text,buttons){
  titleEl.textContent=title;
  textEl.textContent=text;
  choicesEl.innerHTML="";
  buttons.forEach(b=>{
    const btn=document.createElement("button");
    btn.textContent=b.label;
    btn.className=b.class||"";
    btn.onclick=b.onClick;
    choicesEl.appendChild(btn);
  });
}

function start(){
  setScene(
    "Opening Brief",
    "A priceless Valentine letter has gone missing.\nThree people were nearby.\nOnly one is lying.\n\nFind the truth.",
    [
      {label:"Question Alex (The Planner)", onClick:alex},
      {label:"Question Sam (The Friend)", onClick:sam},
      {label:"Question Jamie (The Roommate)", onClick:jamie}
    ]
  );
}

function alex(){
  clues.time=true;
  log("Alex says the letter was seen at 6 PM.");
  setScene(
    "Alex",
    "Alex says:\nâ€œI saw the letter at exactly 6 PM. I left immediately after.â€\n\nOddly precise.",
    nextButtons()
  );
}

function sam(){
  clues.alibi=true;
  log("Sam claims Alex was still around at 6:30 PM.");
  setScene(
    "Sam",
    "Sam says:\nâ€œAlex didnâ€™t leave at 6. We talked until 6:30.â€\n\nThat contradicts Alex.",
    nextButtons()
  );
}

function jamie(){
  clues.evidence=true;
  log("Jamie found wrapping paper in Alexâ€™s bag.");
  setScene(
    "Jamie",
    "Jamie says:\nâ€œI found Valentine wrapping paper in Alexâ€™s bag.â€\n\nSuspicious.",
    nextButtons()
  );
}

function nextButtons(){
  const buttons=[
    {label:"Question Alex", onClick:alex},
    {label:"Question Sam", onClick:sam},
    {label:"Question Jamie", onClick:jamie}
  ];

  if(clues.time && clues.alibi && clues.evidence){
    buttons.push({label:"Make an Accusation", onClick:accuse, class:"primary"});
  }

  return buttons;
}

function accuse(){
  setScene(
    "Final Accusation",
    "Who took the letter?",
    [
      {label:"Accuse Alex", onClick:correct, class:"primary"},
      {label:"Accuse Sam", onClick:wrong},
      {label:"Accuse Jamie", onClick:wrong}
    ]
  );
}

function wrong(){
  alert("That doesnâ€™t add up. Check the contradictions.");
}

function correct(){
  setScene(
    "Case Closed ğŸ’–",
    "Alex lied about the time, was contradicted by Sam, and had evidence.\n\nThe case is solved.\n\nOne final question remainsâ€¦",
    [
      {label:"Will you be my Valentine? ğŸ’˜", onClick:finalPopup, class:"ok"}
    ]
  );
}

function finalPopup(){
  const p=document.createElement("div");
  p.className="popup";
  p.innerHTML=`
    <div class="popupBox">
      <h2>ğŸ’˜ One Last Question</h2>
      <p>Will you be my Valentine?</p>
      <button class="ok" id="yes">YES ğŸ’–</button>
      <button id="no">No ğŸ˜…</button>
    </div>
  `;
  document.body.appendChild(p);

  document.getElementById("yes").onclick=()=>{
    p.innerHTML=`<div class="popupBox"><h2>ğŸ‰ YAY ğŸ‰</h2><p>Best decision ever ğŸ˜</p></div>`;
  };

  document.getElementById("no").onclick=()=>{
    alert("Nice try ğŸ˜ The correct answer is YES ğŸ’–");
  };
}

start();
</script>

</body>
</html>
